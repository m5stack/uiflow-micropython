{"version":"V2.0","versionNumber":"V2.1.9","type":"cores3","components":[{"name":"screen","type":"screen","layer":0,"screenId":"builtin","screenName":"","id":"__cores3_screen","createTime":1733993562074,"x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","size":0,"isSelected":true},{"name":"label0","type":"label","layer":1,"screenId":"builtin","screenName":"","id":"sA^u^q=&NbK&Q^s`","createTime":1733993601647,"x":10,"y":10,"color":"#ffffff","backgroundColor":"#222222","text":"State","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false},{"name":"label1","type":"label","layer":2,"screenId":"builtin","screenName":"","id":"nUTE2wTRMaeBV@Mv","createTime":1733993607447,"x":10,"y":40,"color":"#ffffff","backgroundColor":"#222222","text":"~","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false},{"name":"label2","type":"label","layer":3,"screenId":"builtin","screenName":"","id":"duMl^GJ89dLJV5YX","createTime":1733993613487,"x":10,"y":70,"color":"#ffffff","backgroundColor":"#222222","text":"Question","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false},{"name":"label3","type":"label","layer":4,"screenId":"builtin","screenName":"","id":"a0FJyV*etFeW1PMm","createTime":1733993621007,"x":10,"y":100,"color":"#ffffff","backgroundColor":"#222222","text":"~","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false},{"name":"label4","type":"label","layer":5,"screenId":"builtin","screenName":"","id":"rCRZB^$QWq0Z5`iw","createTime":1733993624095,"x":10,"y":130,"color":"#ffffff","backgroundColor":"#222222","text":"Answer","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false},{"name":"label5","type":"label","layer":6,"screenId":"builtin","screenName":"","id":"cY!rloNi+9fwNDv$","createTime":1733993626591,"x":10,"y":160,"color":"#ffffff","backgroundColor":"#222222","text":"~","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false}],"resources":[{"hardware":["hardware_button","hardware_pin_button","imu","speaker","touch","als","mic"]},{"module":["module_llm"]}],"units":[],"hats":[],"bases":[],"i2cs":[],"blockly":"<variables><variable id=\"LTXLD$Lzq];)(Wq2a[NS\">adding_number</variable><variable id=\"k/,*Ky7*;DQ+S^Hcb8*H\">is_answer_finish</variable><variable id=\"5lI(:|VC9[Y2#rgziXmk\">question</variable><variable id=\"K`.R#_:st[V@kEPEHvVx\">answer</variable><variable id=\"1:*7=Va*ty)tSoght[ek\">k</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"50\" y=\"50\"><mutation isBegin=\"true\"></mutation><field name=\"UPDATEOP\">true</field><statement name=\"FUNC\"><block type=\"system_m5_begin\" id=\"system_m5_begin\"><next><block type=\"module_llm_init\" id=\";5%TEMtd=8P;bJ:ZPkH%\"><field name=\"NAME\">llm_0</field><value name=\"UART\"><shadow type=\"module_llm_id_option\" id=\",E2@WUt@UA6{BB3CS8vD\"><field name=\"VALUE\">2</field></shadow></value><value name=\"TX\"><shadow type=\"module_llm_tx_option\" id=\"E0MLy;3vJ3Z2_|V71:iq\"><field name=\"VALUE\">17</field></shadow></value><value name=\"RX\"><shadow type=\"module_llm_rx_option\" id=\"k`%/#T#K6nb,w6CkjO%.\"><field name=\"VALUE\">18</field></shadow></value><next><block type=\"label_set_text\" id=\"iXyW#EFt`9a?FL-BJ?Wq\"><field name=\"NAME\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"Ove~Ev#%%pv8%1vHl*M9\"><field name=\"TEXT\">Wait ModuleLLM connection..</field></shadow></value><next><block type=\"controls_whileUntil\" id=\"TtrT$cF_TxGCM=G`0H7t\"><field name=\"MODE\">UNTIL</field><value name=\"BOOL\"><block type=\"module_llm_check_connection\" id=\"_=mP#;Os(v=%0%X1Tjz)\"><field name=\"NAME\">llm_0</field></block></value><statement name=\"DO\"><block type=\"time_sleep_second\" id=\"cgympIju0?UcBTe?8F)+\"><value name=\"SECOND\"><shadow type=\"math_number\" id=\"sz?xu8D[oDwR8-4w2)w]\"><mutation max=\"Infinity\" min=\"0\" precision=\"0\"></mutation><field name=\"NUM\">1</field></shadow></value></block></statement><next><block type=\"label_set_text\" id=\"BUe1IdS0Ye80vZ5FsAeT\"><field name=\"NAME\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"^yuhQG|cu9]e(ayeP;M5\"><field name=\"TEXT\">Reset ModuleLLM..</field></shadow></value><next><block type=\"module_llm_sys_reset\" id=\"pgL~+w._0GQ;O`PWmkHc\"><field name=\"NAME\">llm_0</field><field name=\"VALUE\">True</field><next><block type=\"label_set_text\" id=\"a[H{s(Vn913bLQ?6wF`G\"><field name=\"NAME\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"fW#pXs/L~lLu!IGF4[3M\"><field name=\"TEXT\">Setup LLM module..</field></shadow></value><next><block type=\"module_llm_setup\" id=\"ai}JK:p!jjB/u3|e7TS|\"><field name=\"NAME\">llm_0</field><field name=\"VERSION\">v1.0</field><value name=\"PROMPT\"><shadow type=\"text\" id=\"UHUy)#gz%|r=4:Kj}FMI\"><field name=\"TEXT\">You are a helpful assistant.</field></shadow></value><value name=\"MODEL\"><shadow type=\"module_llm_llm_model_option\" id=\"/D2Km_ceZm{1u7W*-yzP\"><field name=\"VALUE\">qwen2.5-0.5B-prefill-20e</field></shadow></value><value name=\"ENOUTPUT\"><shadow type=\"module_llm_bool_option\" id=\"BV7|bFt/C{KZOs`O6g]^\"><field name=\"VALUE\">True</field></shadow></value><value name=\"ENKWS\"><shadow type=\"text\" id=\"!lND[XNkv]2E`^!5QUpt\"><field name=\"TEXT\"></field></shadow></value><value name=\"LENGTH\"><shadow type=\"math_number\" id=\"Fi8s(-y-i{S.C3{Fxfh8\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">127</field></shadow></value><value name=\"ID\"><shadow type=\"text\" id=\",O^5GGZEiXwHJBE9BUb$\"><field name=\"TEXT\">llm_setup</field></shadow></value><next><block type=\"variables_set\" id=\"IqCkE54n}(z4X*%^xSuQ\"><field name=\"VAR\" id=\"LTXLD$Lzq];)(Wq2a[NS\">adding_number</field><value name=\"VALUE\"><block type=\"math_number\" id=\"Mi2]e0NLBgE0oW_gy]Wz\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">0</field></block></value><next><block type=\"label_set_text\" id=\"qwIgVNJBX[{M|/.G.Z8o\"><field name=\"NAME\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"8pRqhdOqBF];ddQ#_/_i\"><field name=\"TEXT\">OK</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"basic_on_loop\" id=\"loop_block\" deletable=\"false\" x=\"450\" y=\"50\"><mutation isUpdate=\"false\"></mutation><field name=\"UPDATEOP\">false</field><statement name=\"FUNC\"><block type=\"procedures_callnoreturn\" id=\"WN}{ZCB-3PwB}PZ~7AwR\"><mutation name=\"handle ask question\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"vVw+tW!m`!OOvU|1Q],;\"><mutation name=\"handle ModuleLLM response msg\"></mutation><next><block type=\"time_sleep_second\" id=\"=,E|z!`5*JInF*U3[~_D\"><value name=\"SECOND\"><shadow type=\"math_number\" id=\"dyy#N=[K)+D:rW9{3*pn\"><mutation max=\"Infinity\" min=\"0\" precision=\"0\"></mutation><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"p#hl-`/8hHz46Pd$+4!M\" x=\"870\" y=\"50\"><field name=\"NAME\">handle ask question</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"=tw8BM}Q7sg{!S4{,5#$\"><field name=\"VAR\" id=\"LTXLD$Lzq];)(Wq2a[NS\">adding_number</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"T=4pSC~2o.FM@VEJ4xSi\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"YbCpH,De#K~%nxSk{E7h\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"(5xCrW*+65F`VeZ?p7e0\"><field name=\"VAR\" id=\"LTXLD$Lzq];)(Wq2a[NS\">adding_number</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"MX4gc.o@{JJoii8a4ZjC\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\" id=\"qi.wKFd02Azg*_/|8*%)\"><field name=\"VAR\" id=\"5lI(:|VC9[Y2#rgziXmk\">question</field><value name=\"VALUE\"><block type=\"text_replace\" id=\"f!:P@+ARx}LiEn]-f!go\"><value name=\"FROM\"><block type=\"text\" id=\"l$7UVhe3zTS#L2*Dq`q!\"><field name=\"TEXT\">x</field></block></value><value name=\"TO\"><block type=\"text_convert_str\" id=\"M[kbkH0?IQ?%jTqT6rW$\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"@8r!dts?rcZ_o=@q8B|~\"><field name=\"VAR\" id=\"LTXLD$Lzq];)(Wq2a[NS\">adding_number</field></block></value></block></value><value name=\"TEXT\"><block type=\"text\" id=\"9]Qe1FJrC@w$,uypg6;8\"><field name=\"TEXT\">What is x + x equal to?</field></block></value></block></value><next><block type=\"label_set_text\" id=\"8fc|*k7U7wo9.=r#!NWi\"><field name=\"NAME\">label3</field><value name=\"TEXT\"><shadow type=\"text\" id=\"UoAO,%Yfa;n%gc)O*WPY\"><field name=\"TEXT\">Label</field></shadow><block type=\"variables_get\" id=\"h9/tvu_5~HY~?(:qzK7V\"><field name=\"VAR\" id=\"5lI(:|VC9[Y2#rgziXmk\">question</field></block></value><next><block type=\"module_llm_inference\" id=\"b`r,;t@JhLr_+s3{/|nl\"><field name=\"NAME\">llm_0</field><value name=\"WORK_ID\"><block type=\"module_llm_get_latest_llm_work_id\" id=\"wl,-;L1z1AqC8+]EZkt]\"><field name=\"NAME\">llm_0</field></block></value><value name=\"DATA\"><shadow type=\"text\" id=\"5H0bQ4BX0OELHp`-n53C\"><field name=\"TEXT\">Can I ask you a question?</field></shadow><block type=\"variables_get\" id=\"y|wX#!W*fuu5A]GqUUUw\"><field name=\"VAR\" id=\"5lI(:|VC9[Y2#rgziXmk\">question</field></block></value><value name=\"REQUEST_ID\"><shadow type=\"text\" id=\"rd%YmC#Xz#SH[q,wO;2Z\"><field name=\"TEXT\">llm_inference</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"*7!.UrR}hI%@=S^4}H^l\" x=\"870\" y=\"350\"><field name=\"NAME\">handle ModuleLLM response msg</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"6tPTl`.2zqG?g.sqRF`c\"><field name=\"VAR\" id=\"k/,*Ky7*;DQ+S^Hcb8*H\">is_answer_finish</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"564v6I`E{3lc^l3!Ttf+\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\" id=\"yfTJOI/OIp$]=B9d[dav\"><field name=\"VAR\" id=\"K`.R#_:st[V@kEPEHvVx\">answer</field><value name=\"VALUE\"><block type=\"text\" id=\"lZRNJmySZ!kgPyC5YgrF\"><field name=\"TEXT\"></field></block></value><next><block type=\"controls_whileUntil\" id=\"tQbQAMQMI)^%jV-|elRn\"><field name=\"MODE\">UNTIL</field><value name=\"BOOL\"><block type=\"variables_get\" id=\"$mBDzgSAuA%.L}]OW!7.\"><field name=\"VAR\" id=\"k/,*Ky7*;DQ+S^Hcb8*H\">is_answer_finish</field></block></value><statement name=\"DO\"><block type=\"module_llm_tick\" id=\"7Vh9,usmY9)/,:yw%2u+\"><field name=\"NAME\">llm_0</field><next><block type=\"controls_forEach\" id=\".B[lSk.MGRi^NQ(Jj_i0\"><field name=\"VAR\" id=\"1:*7=Va*ty)tSoght[ek\">k</field><value name=\"LIST\"><block type=\"module_llm_get_response_msg_list\" id=\"-lz!xi1-pq^lHc/bg#-S\"><field name=\"NAME\">llm_0</field></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"L6_XA-NI@KfW6#OG:BgM\"><value name=\"IF0\"><block type=\"logic_compare\" id=\".L2^Ds`kzt4q@rVj^x^%\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"map_get_key\" id=\"}WE5Y6)54=$ojD/dZ@!k\"><value name=\"KEY\"><block type=\"text\" id=\"9ky:Ba@rMAG!w!7].dAH\"><field name=\"TEXT\">work_id</field></block></value><value name=\"MAP\"><block type=\"variables_get\" id=\"8b8R*6(_d:{uinh8D0|B\"><field name=\"VAR\" id=\"1:*7=Va*ty)tSoght[ek\">k</field></block></value></block></value><value name=\"B\"><block type=\"module_llm_get_latest_llm_work_id\" id=\"0$gFC4e]h_!MME};hEzy\"><field name=\"NAME\">llm_0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"a}i}Qf-!X4o}|n1Kqibb\"><field name=\"VAR\" id=\"K`.R#_:st[V@kEPEHvVx\">answer</field><value name=\"VALUE\"><block type=\"text_add_str\" id=\"!Chh?r7U1o8Sge%|~i;W\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"cyx(zG+Hm(R6%%3egWrV\"><field name=\"TEXT\">hello M5</field></shadow><block type=\"variables_get\" id=\"g.HiD,T.d]gMWzxUZUNv\"><field name=\"VAR\" id=\"K`.R#_:st[V@kEPEHvVx\">answer</field></block></value><value name=\"VALUE2\"><block type=\"map_get_key\" id=\"1n@}s=|A$^^+c4{zxANG\"><value name=\"KEY\"><block type=\"text\" id=\"O{wS)*k]Ll*U|:fCWJsp\"><field name=\"TEXT\">delta</field></block></value><value name=\"MAP\"><block type=\"map_get_key\" id=\"Ut8])hdTzbdgE=d6^N;7\"><value name=\"KEY\"><block type=\"text\" id=\"UBi|o.4%qfDi201Z~cVt\"><field name=\"TEXT\">data</field></block></value><value name=\"MAP\"><block type=\"variables_get\" id=\"kTUZI:#!SNzP4~Ih?6_7\"><field name=\"VAR\" id=\"1:*7=Va*ty)tSoght[ek\">k</field></block></value></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"aZmviPY$]}g6A:6HS/#5\"><field name=\"VAR\" id=\"k/,*Ky7*;DQ+S^Hcb8*H\">is_answer_finish</field><value name=\"VALUE\"><block type=\"map_get_key\" id=\"S0^XVy~XEIRmke58uvv?\"><value name=\"KEY\"><block type=\"text\" id=\"zcW^L?o9R-!z~BPbDCUf\"><field name=\"TEXT\">finish</field></block></value><value name=\"MAP\"><block type=\"map_get_key\" id=\"S_1tUJ*uQMfGQE5=:[)l\"><value name=\"KEY\"><block type=\"text\" id=\"xe_eRgk`;yjB}MPKw*g5\"><field name=\"TEXT\">data</field></block></value><value name=\"MAP\"><block type=\"variables_get\" id=\"Dw_+e$pZvpXShP41,xrs\"><field name=\"VAR\" id=\"1:*7=Va*ty)tSoght[ek\">k</field></block></value></block></value></block></value></block></next></block></statement></block></statement><next><block type=\"module_llm_clear_response_msg_list\" id=\"pIjno2+TV1Xo+pKOJ6q]\"><field name=\"NAME\">llm_0</field></block></next></block></next></block></statement><next><block type=\"label_set_text\" id=\"Bcq,|*ym=_nj?Gxq_uq:\"><field name=\"NAME\">label5</field><value name=\"TEXT\"><shadow type=\"text\" id=\"C!(%?#i$bZJ@s,,]p`B$\"><field name=\"TEXT\">Label</field></shadow><block type=\"variables_get\" id=\"%?p;Ex%]Z}27~dYyOBuf\"><field name=\"VAR\" id=\"K`.R#_:st[V@kEPEHvVx\">answer</field></block></value></block></next></block></next></block></next></block></statement></block>","screen":[{"simulationName":"Built-in","type":"builtin","width":320,"height":240,"scale":0.78,"screenName":"","blockId":"","screenColorType":0,"id":"builtin","createTime":1733993562073}],"logicWhenNum":0,"customList":[]}