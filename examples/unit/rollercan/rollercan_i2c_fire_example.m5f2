{"version":"V2.0","versionNumber":"V2.1.7","type":"fire","components":[{"name":"screen","type":"screen","layer":0,"screenId":"builtin","screenName":"","id":"__fire_screen","createTime":1730184002078,"x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","size":0,"isSelected":true},{"name":"title0","type":"title","layer":1,"screenId":"builtin","screenName":"","id":"k4dXe$oxuMq5Vz_+","createTime":1730184005219,"x":0,"y":0,"color":"#ffffff","backgroundColor":"#0000FF","text":"RollerCAN I2C Example","textOffset":3,"font":"Widgets.FONTS.DejaVu18","isSelected":false},{"name":"label0","type":"label","layer":2,"screenId":"builtin","screenName":"","id":"sIz_G3Ix&^ZUCW-h","createTime":1730184024893,"x":1,"y":63,"color":"#ffffff","backgroundColor":"#222222","text":"mode:","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false},{"name":"label1","type":"label","layer":3,"screenId":"builtin","screenName":"","id":"s-gIiFLL%_1Gecg=","createTime":1730184027890,"x":2,"y":108,"color":"#ffffff","backgroundColor":"#222222","text":"motor state:","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false},{"name":"label2","type":"label","layer":4,"screenId":"builtin","screenName":"","id":"x1v_=3!uz5wf2_Er","createTime":1730184038954,"x":2,"y":152,"color":"#ffffff","backgroundColor":"#222222","text":"speed:","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false},{"name":"label3","type":"label","layer":5,"screenId":"builtin","screenName":"","id":"fHxH%q=0LKE6Lu5v","createTime":1730184064193,"x":40,"y":215,"color":"#ffffff","backgroundColor":"#222222","text":"mode","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false},{"name":"label4","type":"label","layer":6,"screenId":"builtin","screenName":"","id":"wF2UK5DOintH!Cyt","createTime":1730184067184,"x":126,"y":215,"color":"#ffffff","backgroundColor":"#222222","text":"on/off","engine":"gfx","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false}],"resources":[{"hardware":["hardware_button","hardware_pin_button","imu","rgb","speaker","i2c"]},{"unit":["unit_rollercan"]}],"units":[{"type":"unit_rollercan","name":"rollercan_0","portList":["A","PAHUB","Custom"],"portType":"A","userPort":[22,21],"id":"hdbwdR6M-s0qLB0P","createTime":1731902798143,"bus":"i2c1","pahubPortList":[0,1,2,3,4,5],"pahubPort":0,"mode":"I2C","modeList":["I2C","CAN","CAN->I2C"],"initBlockId":"7qq6@=:pR0i-F0bp9K/w"}],"hats":[],"bases":[],"i2cs":[{"id":"i2c1","portType":"A","userPort":[22,21],"freq":"100000","blockId":"M*9Vo`W!Yl:f8^Uw)|lJ"}],"blockly":"<variables><variable id=\"!WPw*)!m.uUn0mk.,/vl\">output</variable><variable id=\".MNQYKcNnb?4p:^wNYBe\">mode</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"50\" y=\"51\"><mutation isBegin=\"true\"></mutation><field name=\"UPDATEOP\">true</field><statement name=\"FUNC\"><block type=\"system_m5_begin\" id=\"system_m5_begin\"><next><block type=\"i2c_init\" id=\"M*9Vo`W!Yl:f8^Uw)|lJ\"><field name=\"NAME\">1</field><field name=\"FREQ\">100000</field><value name=\"SCL\"><shadow type=\"math_number\" id=\"]YM~~O+/iFeRw@e%/lQl\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">22</field></shadow></value><value name=\"SDA\"><shadow type=\"math_number\" id=\"bUP6FTp@x^3?8afiDG][\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">21</field></shadow></value><next><block type=\"unit_rollercan_init\" id=\"7qq6@=:pR0i-F0bp9K/w\"><mutation mode=\"I2C\"></mutation><field name=\"NAME\">rollercan_0</field><field name=\"MODE\">I2C</field><value name=\"ADDR\"><shadow type=\"math_number\" id=\"$#4Iq0!1w)4g8TUF~$`9\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">0x64</field></shadow></value><next><block type=\"unit_rollercan_set_motor_output_state\" id=\"KdMh.Pe:0Ke}Wuj/rD)8\"><field name=\"NAME\">rollercan_0</field><value name=\"VALUE\"><shadow type=\"unit_rollercan_switch_option\" id=\"ka]ItmQE9{AR,crltn0i\"><field name=\"VALUE\">0</field></shadow></value><next><block type=\"variables_set\" id=\"/Yfm~#$}Rk2F0f[:MWc@\"><field name=\"VAR\" id=\"!WPw*)!m.uUn0mk.,/vl\">output</field><value name=\"VALUE\"><block type=\"math_number\" id=\"tmfxx^w}ewzy${pG5@F,\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"mb/X~E776Keda.zV_[l0\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field><value name=\"VALUE\"><block type=\"unit_rollercan_get_motor_mode\" id=\"6g+XQ$-Wb_LH}SlS/81B\"><field name=\"NAME\">rollercan_0</field></block></value><next><block type=\"label_set_text\" id=\"w=e+Lq;.#oIJuYpu+ji|\"><field name=\"NAME\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"])rtE1fo,(G~RBGomg6;\"><field name=\"TEXT\">Label</field></shadow><block type=\"text_add_str\" id=\"P/{SKuKzDjde.+:!_:{b\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"=:|@/U,W|!62@V3[T=M@\"><field name=\"TEXT\">mode:</field></shadow></value><value name=\"VALUE2\"><block type=\"variables_get\" id=\"?r3Z(0]#};)^?flNoE~:\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field></block></value></block></value><next><block type=\"label_set_text\" id=\"1b=]2=,wR0ah2Wg1NeIO\"><field name=\"NAME\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"])rtE1fo,(G~RBGomg6;\"><field name=\"TEXT\">Label</field></shadow><block type=\"text_add_str\" id=\"2G5U1]/jmB{,veXjJp93\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"`-4Vu[$az4.rxboEgToR\"><field name=\"TEXT\">motor state:</field></shadow></value><value name=\"VALUE2\"><block type=\"variables_get\" id=\"MX9E~Rw[DOXX7E{lPjQp\"><field name=\"VAR\" id=\"!WPw*)!m.uUn0mk.,/vl\">output</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"button_callback\" id=\"n/m$_C|+c_/[#i#$]xU5\" x=\"630\" y=\"50\"><field name=\"NAME\">BtnB</field><field name=\"TYPE\">WAS_CLICKED</field><statement name=\"FUNC\"><block type=\"variables_set\" id=\"-W)]_edgAAS1{aF!+c[C\"><field name=\"VAR\" id=\"!WPw*)!m.uUn0mk.,/vl\">output</field><value name=\"VALUE\"><block type=\"math_reverse_bit\" id=\"Y9PEaG4R:+]Jfmh/m/|(\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"zYNNZ/O/kOp|hwf})/V_\"><field name=\"VAR\" id=\"!WPw*)!m.uUn0mk.,/vl\">output</field></block></value><value name=\"BIT\"><shadow type=\"math_number\" id=\"=L9a8!!o0lDzK|5:))y;\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"unit_rollercan_set_motor_output_state\" id=\"+@O%[eSj]X!uqI^V2Gz8\"><field name=\"NAME\">rollercan_0</field><value name=\"VALUE\"><shadow type=\"unit_rollercan_switch_option\" id=\"=Tv@kUV64_{U@3PWp^n@\"><field name=\"VALUE\">1</field></shadow><block type=\"variables_get\" id=\"mMR^[Sry0Y+O]MsIFuG,\"><field name=\"VAR\" id=\"!WPw*)!m.uUn0mk.,/vl\">output</field></block></value></block></next></block></statement></block><block type=\"button_callback\" id=\"CNHa8*xj_d8!oU44*QKk\" x=\"630\" y=\"230\"><field name=\"NAME\">BtnA</field><field name=\"TYPE\">WAS_CLICKED</field><statement name=\"FUNC\"><block type=\"variables_set\" id=\"a4g1Y*sd8]a[Rs3}eLQw\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"t~a5rt[g^FuhuP#$*8U~\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"|27th97{)PfCFN`rAB2]\" disabled=\"true\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"zXeZg8QkPtt|FJApCY$$\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"/Ml09}{vJ/$JWr$$hX!%\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"controls_if\" id=\"ye#(L*rjV!:EPMq6ArK^\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"_E#E/S`HFnxt:I`ec]R8\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"y9~GI{1EFDcn_W`n6@xL\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"b?`,!i+dhN?gG_l|X:qb\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">4</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"{JQ_#|6A1`q,UufMyXjJ\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field><value name=\"VALUE\"><block type=\"math_number\" id=\"t|FYD*mqcJg@*Q!e`Ct6\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">1</field></block></value></block></statement><next><block type=\"unit_rollercan_set_motor_mode\" id=\"5wqozQq}D#Q|`gmp;tDY\"><field name=\"NAME\">rollercan_0</field><value name=\"VALUE\"><shadow type=\"unit_rollercan_motor_mode_option\" id=\"@gMO:J7cNZ*K`I{X62hP\"><field name=\"VALUE\">1</field></shadow><block type=\"variables_get\" id=\"S@BuVq%OFn]~Bv*!^pnm\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field></block></value></block></next></block></next></block></statement></block><block type=\"basic_on_loop\" id=\"loop_block\" deletable=\"false\" x=\"50\" y=\"470\"><mutation isUpdate=\"true\"></mutation><field name=\"UPDATEOP\">true</field><statement name=\"FUNC\"><block type=\"system_m5_update\" id=\"system_m5_update\"><next><block type=\"label_set_text\" id=\"@+#(@E+jK22eD1XneUwo\"><field name=\"NAME\">label0</field><value name=\"TEXT\"><shadow type=\"text\" id=\"])rtE1fo,(G~RBGomg6;\"><field name=\"TEXT\">Label</field></shadow><block type=\"text_add_str\" id=\"msW*PDUQGN|H1F_h$df5\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"~YAeYghdPs95fgG|$1*@\"><field name=\"TEXT\">mode:</field></shadow></value><value name=\"VALUE2\"><block type=\"variables_get\" id=\"}F?iw!7zEU4r$AbFQfyX\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field></block></value></block></value><next><block type=\"label_set_text\" id=\"LY8fo((nm?aL+g=[V=.a\"><field name=\"NAME\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"])rtE1fo,(G~RBGomg6;\"><field name=\"TEXT\">Label</field></shadow><block type=\"text_add_str\" id=\"x![KMd^H)Z9ltLPMlFH8\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"{%CCenJz$Qri#aW`g9zz\"><field name=\"TEXT\">motor state:</field></shadow></value><value name=\"VALUE2\"><block type=\"variables_get\" id=\"i2;2B|RddJ9qf!xJ^9:c\"><field name=\"VAR\" id=\"!WPw*)!m.uUn0mk.,/vl\">output</field></block></value></block></value><next><block type=\"controls_if\" id=\"Js~i4S_cVbetjW;RFhX:\"><mutation elseif=\"3\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"e9h-nWFN,cXAE+gvz)HC\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"cYG2q(c~#/1r4A]UN[y2\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"+mSuR5Pn2IoZ(Jl]MM44\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"unit_rollercan_set_motor_speed\" id=\"uqb9EgW^ppKYs[I*RkT3\"><field name=\"NAME\">rollercan_0</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"b4ix9E8PSP6EmJye$7|m\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">20000</field></shadow></value><next><block type=\"unit_rollercan_set_speed_max_current\" id=\"!2%*,Y2#8c7Jo{_lcz7N\"><field name=\"NAME\">rollercan_0</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"[w2@]7e!oC86:E]f`(1q\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">400</field></shadow></value><next><block type=\"label_set_text\" id=\"oU?d-m#n^Sy9m!X|OQr4\"><field name=\"NAME\">label2</field><value name=\"TEXT\"><shadow type=\"text\" id=\"])rtE1fo,(G~RBGomg6;\"><field name=\"TEXT\">Label</field></shadow><block type=\"text_add_str\" id=\"dS?A4d_FnzpqdhAdO,T`\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"Qnx0!(Koz+[V1lRC-Rl5\"><field name=\"TEXT\">speed:</field></shadow></value><value name=\"VALUE2\"><block type=\"unit_rollercan_get_motor_speed_readback\" id=\"#PWq%w8_N^{f;vZUiTs#\"><field name=\"NAME\">rollercan_0</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"1LO~xU1CM0JvtJL}rhm{\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"0|cYGx_rcUi$MqxIHDOM\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"zR%y72)0)/hq5``=o]Bs\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">2</field></block></value></block></value><statement name=\"DO1\"><block type=\"unit_rollercan_set_motor_position\" id=\"44]yS..RO8G8S3j?xf?4\"><field name=\"NAME\">rollercan_0</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"{^A$O!u5+8t:.p%qq#h0\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">1000</field></shadow></value><next><block type=\"unit_rollercan_set_position_max_current\" id=\"C6SYV?4JC5p^+UsHR4EU\"><field name=\"NAME\">rollercan_0</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"wijK`~${{-Yip?!%b`%Z\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">400</field></shadow></value><next><block type=\"label_set_text\" id=\"1y*aU#v$mHLNMkyW|.V0\"><field name=\"NAME\">label2</field><value name=\"TEXT\"><shadow type=\"text\" id=\"])rtE1fo,(G~RBGomg6;\"><field name=\"TEXT\">Label</field></shadow><block type=\"text_add_str\" id=\"clEwo%[KKGy;A5sjm(-Q\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"nCOhL-tTOcO6E!rjhSSy\"><field name=\"TEXT\">position:</field></shadow></value><value name=\"VALUE2\"><block type=\"unit_rollercan_get_motor_position_readback\" id=\"wG484q}y?(I;m`Jx%Pge\"><field name=\"NAME\">rollercan_0</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"Pbrs3~Fz~.xK6Yu?EN#M\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"kbVNW=rE:|)1y(V@z5-C\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"([^DH1)]och~,6KSfbHj\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">3</field></block></value></block></value><statement name=\"DO2\"><block type=\"unit_rollercan_set_motor_max_current\" id=\"kC~55l4Dq^ChO_LS1[y-\"><field name=\"NAME\">rollercan_0</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"CLXqV9FMcjuMaxu6$d(j\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">400</field></shadow></value><next><block type=\"label_set_text\" id=\"9Zij[efwA4J-@+ra/I3o\"><field name=\"NAME\">label2</field><value name=\"TEXT\"><shadow type=\"text\" id=\"])rtE1fo,(G~RBGomg6;\"><field name=\"TEXT\">Label</field></shadow><block type=\"text_add_str\" id=\"|38R;zRU(xcC:%0pZ=Gx\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"B]`?Z|IbQdtR}y+49SS7\"><field name=\"TEXT\">current:</field></shadow></value><value name=\"VALUE2\"><block type=\"unit_rollercan_get_motor_current_readback\" id=\"Q{s~^~xY3dOcwqA!5A^*\"><field name=\"NAME\">rollercan_0</field></block></value></block></value></block></next></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\"R,1Sj[+hSWqq{$u.%jL]\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"TDTz8HivlV41o7DC;VzW\"><field name=\"VAR\" id=\".MNQYKcNnb?4p:^wNYBe\">mode</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"sYBC/it1B]*8?WMx9CO.\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">4</field></block></value></block></value><statement name=\"DO3\"><block type=\"label_set_text\" id=\",+*!t?T-F=q.8_QMKU~T\"><field name=\"NAME\">label2</field><value name=\"TEXT\"><shadow type=\"text\" id=\"])rtE1fo,(G~RBGomg6;\"><field name=\"TEXT\">Label</field></shadow><block type=\"text_add_str\" id=\"{~)0LceP`Y{dJsWSz7=M\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"Vvk~0W0ud49iM{/@-!31\"><field name=\"TEXT\">encoder:</field></shadow></value><value name=\"VALUE2\"><block type=\"unit_rollercan_get_encoder_value\" id=\"4O0?]hS8s8r[+Bp:XE,t\"><field name=\"NAME\">rollercan_0</field></block></value></block></value></block></statement></block></next></block></next></block></next></block></statement></block>","screen":[{"simulationName":"Built-in","type":"builtin","width":320,"height":240,"scale":0.78,"screenName":"","blockId":"","screenColorType":0,"id":"builtin","createTime":1730184002074}],"logicWhenNum":0,"customList":[]}