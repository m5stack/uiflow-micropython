{"version":"V2.0","versionNumber":"V2.4.0","type":"basic","components":[{"name":"screen","type":"screen","layer":0,"screenId":"builtin","screenName":"","id":"__basic_screen","createTime":1767488540829,"x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","size":0,"isSelected":true},{"name":"title","type":"title","layer":1,"screenId":"builtin","screenName":"","id":"xMu2KtDBHB1E#QRV","createTime":1767489342302,"x":-2,"y":-2,"color":"#ffffff","backgroundColor":"#0000FF","text":"Unit Chain Bus Example: I2C","textOffset":3,"font":"Widgets.FONTS.DejaVu18","isSelected":false,"width":321,"height":19},{"name":"label_brightness","type":"label","layer":2,"screenId":"builtin","screenName":"","id":"lPj7k0Ad+Vv565#R","createTime":1767489397421,"x":10,"y":85,"color":"#ffffff","backgroundColor":"#222222","text":"Brightness: -- lux","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false,"width":151,"height":21},{"name":"label_mode","type":"label","layer":3,"screenId":"builtin","screenName":"","id":"w7UxUWJVb_ZqI#uY","createTime":1767489427778,"x":10,"y":54,"color":"#ffffff","backgroundColor":"#222222","text":"Unit Chain Bus GPIO1&2: I2C","font":"Widgets.FONTS.DejaVu18","rotation":0,"isSelected":false,"width":275,"height":21}],"resources":[{"hardware":["hardware_button","hardware_pin_button","imu","rgb","speaker","sdcard","i2c"]},{"unit":["unit_dlight"]},{"chain":["chain_unitbus"]}],"units":[{"type":"unit_dlight","name":"dlight_0","portList":["A","PAHUB","Custom"],"portType":"A","userPort":[22,21],"id":"pNQoJlWd58V=+IsS","createTime":1767519939828,"bus":"w4CAZS*4cwkSUcTe","pahubPortList":[0,1,2,3,4,5],"pahubPort":0,"initBlockId":"(R,U@-4g3uMC{AkR7(`y"}],"hats":[],"caps":[],"chains":[{"type":"chain_unitbus","name":"unit_chain_bus_0","bus":"bus2","deviceIndex":1,"id":"w4CAZS*4cwkSUcTe","createTime":1767519748995,"initBlockType":"chain_unitbus_init","initBlockId":"q{N}F7d]%%r)0p$yDtW,"}],"bases":[],"plcmodules":[],"i2cs":[{"id":"i2c0","portType":"A","userPort":[22,21],"freq":"100000"}],"chainBus":[{"id":"2","portType":"Custom","userPort":[22,21],"name":"bus2"}],"blockly":"<variables><variable id=\"^Ks7z9wkD3*ezq(-9v=@\">last_time</variable><variable id=\"2+G@`T;y()G)aDQ,u9^C\">brightness</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"50\" y=\"30\"><mutation isBegin=\"true\"></mutation><field name=\"UPDATEOP\">true</field><statement name=\"FUNC\"><block type=\"system_m5_begin\" id=\"0TGP`?%?Z[3}MukUIkO{\"><next><block type=\"i2c_init\" id=\"lHQx,J(HQ7./$*jO|v`n\"><field name=\"NAME\">0</field><field name=\"FREQ\">100000</field><value name=\"SCL\"><shadow type=\"math_number\" id=\"=,/|(*6QX5sDha7haZHT\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">22</field></shadow></value><value name=\"SDA\"><shadow type=\"math_number\" id=\"-?n+.zoca-)gvV}%zZfl\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">21</field></shadow></value><next><block type=\"chain_bus_init\" id=\"gP[9}+khN9y/)8*:0gAI\"><field name=\"NAME\">bus2</field><value name=\"RX\"><shadow type=\"math_number\" id=\"_,8?=-Stz?*k6BT)~p==\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">22</field></shadow></value><value name=\"TX\"><shadow type=\"math_number\" id=\"%0mJJVc(qBOy1=F,1{1g\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">21</field></shadow></value><next><block type=\"chain_unitbus_init\" id=\"q{N}F7d]%%r)0p$yDtW,\"><field name=\"NAME\">unit_chain_bus_0</field><field name=\"BUS\">bus2</field><value name=\"ID\"><shadow type=\"math_slider\" id=\"7OD}dzE!Es;!2V:}W}J[\"><mutation max=\"254\" min=\"1\" step=\"1\" precision=\"1\"></mutation><field name=\"NUM\">1</field></shadow></value><next><block type=\"chain_unitbus_set_i2c\" id=\";ayueg57L/F%:D=sxefn\"><field name=\"NAME\">unit_chain_bus_0</field><field name=\"OPTION\">I2C_SPEED_100K</field><next><block type=\"unit_dlight_init\" id=\"(R,U@-4g3uMC{AkR7(`y\"><field name=\"NAME\">dlight_0</field></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"basic_on_loop\" id=\"loop_block\" deletable=\"false\" x=\"50\" y=\"330\"><mutation isUpdate=\"true\"></mutation><field name=\"UPDATEOP\">true</field><statement name=\"FUNC\"><block type=\"system_m5_update\" id=\"WZ*He}32N(?/-},gos`1\"><next><block type=\"controls_if\" id=\"L!iMbmO^xH$-ghLln#A9\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"[y`EM=K~BkCP%gZ0pqwC\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"time_get_ticks_diff\" id=\"3Kxs#zMcdV6YsO[m^J/4\"><value name=\"TICKS1\"><shadow type=\"math_number\" id=\"B^Sdy}U-`Ct1u5lcxm.m\" disabled=\"true\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">1</field></shadow><block type=\"time_get_ticks_ms\" id=\"irHCl-KS/)ij;M24BU{,\"></block></value><value name=\"TICKS2\"><shadow type=\"math_number\" id=\"NUSn%W5[Nc7B{h;eOe17\" disabled=\"true\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"4OR7D;D*YY#ZM[*LRl@=\"><field name=\"VAR\" id=\"^Ks7z9wkD3*ezq(-9v=@\">last_time</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"~=mAj{Md~Aqw3E2B}T*s\"><mutation max=\"Infinity\" min=\"-Infinity\" precision=\"0\"></mutation><field name=\"NUM\">500</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"%eN6{WvfO,3pe91I(E/0\"><field name=\"VAR\" id=\"^Ks7z9wkD3*ezq(-9v=@\">last_time</field><value name=\"VALUE\"><block type=\"time_get_ticks_ms\" id=\"]?I`oIAsLMQD7I1PYdw|\"></block></value><next><block type=\"variables_set\" id=\"PfDl}wLS3@A^P=EOFMR^\"><field name=\"VAR\" id=\"2+G@`T;y()G)aDQ,u9^C\">brightness</field><value name=\"VALUE\"><block type=\"math_convent_int\" id=\"OMbtB[S[X5)hWj73p0Uv\"><value name=\"VALUE\"><block type=\"unit_dlight_get_lux\" id=\":0)fKOa[=H~J[9JywN7w\"><field name=\"NAME\">dlight_0</field></block></value></block></value><next><block type=\"label_set_text\" id=\"=/([52Nq_oM,;fo1#{A!\"><field name=\"NAME\">label_brightness</field><value name=\"TEXT\"><shadow type=\"text\" id=\"f:R;W%^CENKz##YqikGi\"><field name=\"TEXT\">Label</field></shadow><block type=\"text_add_str\" id=\"gEp5)e+Ls4O_bE:IsrsV\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"9oV.V?OoT21?8Y_h(zKE\"><field name=\"TEXT\">Brightness: </field></shadow></value><value name=\"VALUE2\"><block type=\"text_add_str\" id=\"Kw@qv*x,/dae!0Fi[kU6\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"LpVZU{scU=`6#*#L_=n~\"><field name=\"TEXT\">hello M5</field></shadow><block type=\"variables_get\" id=\"lG[)QuzG7A,eIAJNc=[g\"><field name=\"VAR\" id=\"2+G@`T;y()G)aDQ,u9^C\">brightness</field></block></value><value name=\"VALUE2\"><block type=\"text\" id=\"*D$,Y%JFwcCMfO$z7Qq?\"><field name=\"TEXT\"> lux</field></block></value></block></value></block></value><next><block type=\"text_print\" id=\"HXf`Ecb,bMx`YGFLTL!W\"><value name=\"TEXT\"><shadow type=\"text\" id=\"/^R|^p+#_#V{*qYE;izC\" disabled=\"true\"><field name=\"TEXT\">hello M5</field></shadow><block type=\"text_add_str\" id=\"j?IoEYF;)Is_OW?OEKut\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"^jRKraTcp_VhGZqCk02H\"><field name=\"TEXT\">Brightness: </field></shadow></value><value name=\"VALUE2\"><block type=\"text_add_str\" id=\"TLEw+x=(luJ%GPFmv)*B\"><value name=\"VALUE1\"><shadow type=\"text\" id=\"LpVZU{scU=`6#*#L_=n~\"><field name=\"TEXT\">hello M5</field></shadow><block type=\"variables_get\" id=\"G|!c%pKWa%[zMNO=Okya\"><field name=\"VAR\" id=\"2+G@`T;y()G)aDQ,u9^C\">brightness</field></block></value><value name=\"VALUE2\"><block type=\"text\" id=\"!ggCyqa?b6;fANhPxAV%\"><field name=\"TEXT\"> lux</field></block></value></block></value></block></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block>","screen":[{"simulationName":"Built-in","type":"builtin","width":320,"height":240,"scale":0.77,"screenName":"","blockId":"","screenColorType":0,"rotation":1,"id":"builtin","createTime":1767488540826}],"logicWhenNum":0,"customList":[]}